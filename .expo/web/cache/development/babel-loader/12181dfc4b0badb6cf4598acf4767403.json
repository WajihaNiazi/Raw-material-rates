{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\Raw-material-rates\\\\screens\\\\reportScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ReportItem from \"../components/reportItem\";\nimport * as SQLite from 'expo-sqlite';\nvar db = SQLite.openDatabase('raw_material.db');\nexport default function ReportScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      reports = _useState2[0],\n      setReports = _useState2[1];\n\n  useEffect(function () {\n    db.transaction(function (tx) {\n      tx.executeSql('select * from tableReport,material where material_id = material.id', [], function (tx, _ref2) {\n        var rows = _ref2.rows;\n        var data = [];\n\n        for (var i = 0; i < rows.length; i++) {\n          data.push(rows[i]);\n        }\n\n        setReports(data);\n      });\n    });\n  });\n\n  var deleteReport = function deleteReport(report_id) {\n    db.transaction(function (tx) {\n      tx.executeSql('delete from tableReport where report_id=?', [report_id]);\n    });\n  };\n\n  return React.createElement(FlatList, {\n    data: reports,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(ReportItem, {\n        location: item.reportlocation,\n        message: item.message,\n        shopNumber: item.shopNumber,\n        name: item.reportname,\n        productname: item.name,\n        onDeleteReport: function onDeleteReport() {\n          deleteReport(item.report_id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 18\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/Raw-material-rates/screens/reportScreen.js"],"names":["React","useState","useEffect","ReportItem","SQLite","db","openDatabase","ReportScreen","navigation","reports","setReports","transaction","tx","executeSql","rows","data","i","length","push","deleteReport","report_id","item","id","reportlocation","message","shopNumber","reportname","name"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;;;AAMA,OAAOC,UAAP;AAEA,OAAO,KAAKC,MAAZ,MAAwB,aAAxB;AAEA,IAAMC,EAAE,GAACD,MAAM,CAACE,YAAP,CAAoB,iBAApB,CAAT;AAEA,eAAe,SAASC,YAAT,OAAmC;AAAA;;AAAA,MAAZC,UAAY,QAAZA,UAAY;;AAAA,kBAErBP,QAAQ,CAAC,EAAD,CAFa;AAAA;AAAA,MAEzCQ,OAFyC;AAAA,MAEjCC,UAFiC;;AAGhDR,EAAAA,SAAS,CAAC,YAAI;AACVG,IAAAA,EAAE,CAACM,WAAH,CAAe,UAAAC,EAAE,EAAE;AACfA,MAAAA,EAAE,CAACC,UAAH,CAAc,oEAAd,EAAoF,EAApF,EAAuF,UAACD,EAAD,SAAa;AAAA,YAARE,IAAQ,SAARA,IAAQ;AAChG,YAAIC,IAAI,GAAC,EAAT;;AACA,aAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,IAAI,CAACG,MAApB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5BD,UAAAA,IAAI,CAACG,IAAL,CAAUJ,IAAI,CAACE,CAAD,CAAd;AACH;;AACDN,QAAAA,UAAU,CAACK,IAAD,CAAV;AACH,OAND;AAOH,KARD;AASH,GAVQ,CAAT;;AAWA,MAAMI,YAAY,GAAC,SAAbA,YAAa,CAACC,SAAD,EAAa;AAC9Bf,IAAAA,EAAE,CAACM,WAAH,CAAe,UAAAC,EAAE,EAAE;AACfA,MAAAA,EAAE,CAACC,UAAH,CAAc,2CAAd,EAA0D,CAACO,SAAD,CAA1D;AACD,KAFH;AAGC,GAJH;;AAME,SACE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEX,OADR;AAEE,IAAA,YAAY,EAAE,sBAACY,IAAD;AAAA,aAAQA,IAAI,CAACC,EAAb;AAAA,KAFhB;AAGE,IAAA,UAAU,EAAE,2BAAU;AAAA,UAARD,IAAQ,SAARA,IAAQ;AACpB,aAAO,oBAAC,UAAD;AACH,QAAA,QAAQ,EAAEA,IAAI,CAACE,cADZ;AAEH,QAAA,OAAO,EAAEF,IAAI,CAACG,OAFX;AAGH,QAAA,UAAU,EAAEH,IAAI,CAACI,UAHd;AAIH,QAAA,IAAI,EAAEJ,IAAI,CAACK,UAJR;AAKH,QAAA,WAAW,EAAEL,IAAI,CAACM,IALf;AAMH,QAAA,cAAc,EAAE,0BAAI;AAACR,UAAAA,YAAY,CAACE,IAAI,CAACD,SAAN,CAAZ;AAA6B,SAN/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAQD,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAgBH","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {\r\n    FlatList,\r\n    StyleSheet\r\n} from 'react-native';\r\n\r\nimport ReportItem from \"../components/reportItem\";\r\n\r\nimport * as SQLite from 'expo-sqlite'; //fro db\r\n\r\nconst db=SQLite.openDatabase('raw_material.db');//for db\r\n\r\nexport default function ReportScreen({navigation}){\r\n \r\n  const [reports,setReports]=useState([]); //for db\r\n  useEffect(()=>{\r\n      db.transaction(tx=>{\r\n          tx.executeSql('select * from tableReport,material where material_id = material.id' ,[],(tx,{rows})=>{\r\n              var data=[];\r\n              for(var i=0; i<rows.length; i++){\r\n                  data.push(rows[i]);\r\n              }\r\n              setReports(data);\r\n          })\r\n      })\r\n  })\r\n  const deleteReport=(report_id)=>{\r\n    db.transaction(tx=>{\r\n        tx.executeSql('delete from tableReport where report_id=?',[report_id]);\r\n      })\r\n    } \r\n\r\n    return (\r\n      <FlatList \r\n        data={reports} \r\n        keyExtractor={(item)=>item.id}\r\n        renderItem={({item})=>{\r\n          return <ReportItem\r\n              location={item.reportlocation}\r\n              message={item.message}\r\n              shopNumber={item.shopNumber}\r\n              name={item.reportname}\r\n              productname={item.name}\r\n              onDeleteReport={()=>{deleteReport(item.report_id)}}\r\n          />\r\n        }}\r\n      />\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}